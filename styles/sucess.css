/* styles/sucess.css */
:root{--accent:#ff6b9f;--muted:#6b3746;--bg:rgba(255,255,255,0.85)}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Poppins', sans-serif;background:linear-gradient(180deg,#ffd9ec,#ffeefc);color:#222}
/* ensure heart canvas sits behind content */
canvas{position:fixed;inset:0;z-index:0;width:100vw;height:100vh}
/* nebula backdrop behind heart */
body::before{content:'';position:fixed;inset:0;z-index:0;background:radial-gradient(40% 40% at 20% 20%, rgba(255,150,220,0.12), transparent 10%), radial-gradient(60% 40% at 80% 80%, rgba(140,80,180,0.12), transparent 10%), linear-gradient(180deg,#ffd9ec,#ffeefc);mix-blend-mode:screen;filter:blur(24px) saturate(120%)}
/* dreamy star overlay */
.star-layer{position:fixed;inset:0;z-index:1;pointer-events:none;background-image:radial-gradient(rgba(255,255,255,0.06) 1px, transparent 1px);background-size:20px 20px;mix-blend-mode:screen;opacity:0.9;}
/* twinkling micro-stars */
.star-layer::after{content:'';position:absolute;inset:0;background-image:radial-gradient(circle at 10% 20%, rgba(255,255,255,0.18) 0px, transparent 6vmin), radial-gradient(circle at 80% 70%, rgba(255,255,255,0.12) 0px, transparent 8vmin);opacity:0.75;filter:blur(6px);animation:starTwinkle 6s linear infinite}
@keyframes starTwinkle{0%{opacity:0.5}50%{opacity:1}100%{opacity:0.5}}
.center-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:40px;position:relative}
.card.plan-card{position:relative;z-index:3;max-width:720px;width:100%;background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,250,251,0.95));border-radius:18px;padding:28px;box-shadow:0 26px 110px rgba(220,80,140,0.18);border:1px solid rgba(255,200,220,0.6);backdrop-filter:blur(6px);
	/* keep the card inside the viewport on small screens and allow internal scroll */
	max-height: calc(100vh - 64px);
	overflow: auto;
}
.card-head{display:flex;align-items:center;gap:18px}
.success-emoji{font-size:46px}
.card-head h1{margin:0;font-size:1.6rem;color:#6b4453;text-shadow:0 10px 34px rgba(255,120,160,0.18)}
.lead{margin:6px 0 0;color:#6b4453}
.activities{margin-top:18px}
.activities h2{font-size:1rem;margin:0 0 10px;color:#8a4a66}
.activity-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;align-items:start}
.activity-card{background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,245,250,0.98));border-radius:14px;padding:12px 10px;font-size:0.95rem;line-height:1.1;border:1px solid rgba(240,180,200,0.4);cursor:pointer;box-shadow:0 10px 26px rgba(200,80,140,0.06);transition:transform .2s cubic-bezier(.2,.9,.2,1),box-shadow .2s;white-space:normal}
.activity-card:hover{transform:translateY(-8px) rotate(-0.6deg);box-shadow:0 28px 46px rgba(230,90,160,0.14)}
.activity-card.active{background:linear-gradient(180deg,var(--accent),#ff9bb3);color:#fff;border-color:transparent;box-shadow:0 28px 56px rgba(255,110,170,0.22);transform:translateY(-6px) scale(1.02)}

/* Entrance animation used to stagger the options like a short video */
.activity-card.enter{
	opacity: 0;
	transform: translateY(22px) scale(0.96) rotate(-1deg);
	animation: cardPop 720ms cubic-bezier(.2,.9,.2,1) forwards;
}
@keyframes cardPop{
	0%{opacity:0; transform: translateY(28px) scale(0.94) rotate(-2deg);}
	55%{opacity:1; transform: translateY(-6px) scale(1.03) rotate(1deg);} 
	80%{transform: translateY(2px) scale(0.995) rotate(-0.6deg);} 
	100%{transform: translateY(0) scale(1) rotate(0deg);}
}

/* small entrance for availability row and footer */
.times-row.enter, .time-select.enter, .card-foot.enter{opacity:0; transform:translateY(18px) scale(0.99); animation: subtleIn 640ms cubic-bezier(.2,.9,.2,1) forwards;}
@keyframes subtleIn{0%{opacity:0; transform:translateY(18px) scale(0.98)}50%{opacity:1; transform:translateY(-6px) scale(1.02)}100%{transform:translateY(0) scale(1)}}

/* small sparkle on active selection */
.activity-card.active::after{content:'';position:absolute;left:12px;top:8px;width:10px;height:10px;border-radius:50%;background:radial-gradient(circle,#fff8,#ffd1);box-shadow:0 6px 18px rgba(255,180,210,0.45);opacity:0.9}
.availability{margin-top:18px}
.availability h2{font-size:1rem;margin:0 0 10px;color:#8a4a66}
.times-row{display:flex;flex-wrap:wrap;gap:8px}
.times-row label{background:#fff;padding:8px 10px;border-radius:8px;border:1px solid rgba(200,170,180,0.35);cursor:pointer}
.time-select{margin-top:10px}
.card-foot{display:flex;flex-direction:column;align-items:center;gap:10px;margin-top:18px}
.btn-row{display:flex;gap:12px}
.btn{padding:10px 18px;border-radius:10px;border:none;cursor:pointer}
.btn-yes{background:linear-gradient(90deg,var(--accent),#ff9bb3);color:#fff;box-shadow:0 10px 36px rgba(255,120,170,0.18);padding:12px 20px}
.btn-no{background:transparent;color:var(--muted);border:1px solid rgba(150,100,120,0.12)}
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;background:#fff;padding:10px 14px;border-radius:10px;box-shadow:0 8px 22px rgba(140,60,100,0.12);z-index:4}
@media (max-width:640px){.card.plan-card{padding:18px}.activity-grid{grid-template-columns:repeat(2,1fr)}.card-head h1{font-size:1.1rem}}

/* make scrolling inside the card look nicer */
.card.plan-card::-webkit-scrollbar{width:10px}
.card.plan-card::-webkit-scrollbar-track{background:transparent}
.card.plan-card::-webkit-scrollbar-thumb{background:linear-gradient(180deg,rgba(200,120,160,0.22),rgba(200,120,160,0.16));border-radius:8px}

@media (max-width:420px){
	.activity-grid{grid-template-columns:repeat(2,1fr);gap:10px}
	.activity-card{padding:10px 8px;font-size:0.92rem}
	.center-screen{padding:18px}
}

/* Activity details (appears inside the activity card) */
.activity-details{margin-top:10px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.92);box-shadow:inset 0 2px 8px rgba(230,100,150,0.03);animation:detailsOpen .28s cubic-bezier(.2,.9,.2,1) forwards}
.activity-details.closing{animation:detailsClose .22s ease forwards}
.activity-details ul{margin:0;padding:0 6px 0 18px;color:#5b2e40}
.activity-details li{margin:6px 0;font-size:0.9rem}
@keyframes detailsOpen{0%{opacity:0;transform:translateY(-6px) scale(0.98)}100%{opacity:1;transform:none}}
@keyframes detailsClose{0%{opacity:1;transform:none}100%{opacity:0;transform:translateY(-6px) scale(0.98)}}

/* Shooting star visuals */
.shooting-star{position:absolute;left:-10%;width:28vmax;height:2px;background:linear-gradient(90deg, rgba(255,255,255,0.9), rgba(255,200,230,0.7), rgba(255,120,180,0.1));filter:blur(4px);transform:skewX(-20deg);z-index:2;pointer-events:none;opacity:0.95;animation:shoot 1100ms linear forwards}
@keyframes shoot{
	0%{transform:translateX(0) skewX(-20deg) scaleX(0.1);opacity:0}
	12%{opacity:1}
	80%{transform:translateX(140vw) skewX(-22deg) scaleX(1)}
	100%{transform:translateX(170vw) skewX(-24deg) scaleX(1.1);opacity:0}
}

/* slightly different tint per theme */
body.theme-coffee .shooting-star{background:linear-gradient(90deg, rgba(255,244,230,0.95), rgba(220,180,120,0.7), rgba(200,160,90,0.08));}
body.theme-walk .shooting-star{background:linear-gradient(90deg, rgba(230,255,246,0.95), rgba(160,240,200,0.7), rgba(120,200,160,0.08));}
body.theme-movies .shooting-star{background:linear-gradient(90deg, rgba(240,240,255,0.95), rgba(180,180,255,0.7), rgba(120,120,200,0.08));}
body.theme-picnic .shooting-star{background:linear-gradient(90deg, rgba(255,250,235,0.95), rgba(255,210,140,0.7), rgba(220,160,90,0.08));}
body.theme-museum .shooting-star{background:linear-gradient(90deg, rgba(250,240,255,0.95), rgba(210,170,240,0.7), rgba(180,130,200,0.08));}
body.theme-dinner .shooting-star{background:linear-gradient(90deg, rgba(255,240,245,0.95), rgba(255,160,190,0.7), rgba(220,110,150,0.08));}

/* Activity themes - toggled by JS (body.class = theme-<slug>) */
body.theme-coffee{ --accent: #8b5e34; --muted: #4b2f20; }
body.theme-coffee{ background: linear-gradient(180deg,#fff7ef,#fff3ea); }
body.theme-walk{ --accent: #4bb78b; --muted:#245c3a; }
body.theme-walk{ background: linear-gradient(180deg,#e6fff5,#eafffb); }
body.theme-movies{ --accent: #6b63ff; --muted:#2f2a6b; }
body.theme-movies{ background: linear-gradient(180deg,#f2f0ff,#eef0ff); }
body.theme-picnic{ --accent: #ff9b4b; --muted:#6b3f1f; }
body.theme-picnic{ background: linear-gradient(180deg,#fff7e6,#fffaf0); }
body.theme-museum{ --accent: #c56bd6; --muted:#4a2b4f; }
body.theme-museum{ background: linear-gradient(180deg,#fff0fb,#fbf0ff); }
body.theme-dinner{ --accent: #ff4b8b; --muted:#4a2331; }
body.theme-dinner{ background: linear-gradient(180deg,#fff0f6,#fff0f4); }

/* make the nebula and star tint follow the accent color */
body[class^="theme-"]::before{ filter: blur(26px) saturate(140%); }
body.theme-coffee .star-layer, body.theme-walk .star-layer, body.theme-movies .star-layer, body.theme-picnic .star-layer, body.theme-museum .star-layer, body.theme-dinner .star-layer{mix-blend-mode:screen;opacity:0.95}

/* Accent-aware card and button coloring */
body[class^="theme-"] .card.plan-card{ box-shadow:0 26px 110px rgba(0,0,0,0.06); border-color: rgba(255,255,255,0.35); }
body[class^="theme-"] .activity-card.active{ background: linear-gradient(180deg,var(--accent), color-mix(in srgb, var(--accent) 70%, #fff 30%)); }
body[class^="theme-"] .btn-yes{ background: linear-gradient(90deg,var(--accent), color-mix(in srgb, var(--accent) 70%, #fff 30%)); }

/* subtle transition when switching themes */
body, .card.plan-card, .star-layer{ transition: background-color 420ms ease, background 420ms ease, color 320ms ease, --accent 420ms ease; }
